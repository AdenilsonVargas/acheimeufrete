# ğŸ—ºï¸ SKILLS ARCHITECTURE MAP
## VisÃ£o de Como os 8 Skills se Conectam

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ACHEI MEU FRETE PLATFORM                     â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚          SKILL A: QUOTATION FLOW (CORE)                  â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚   Step 1: Create      â†’ SKILL C (Form Validation)        â”‚ â”‚
â”‚  â”‚   Step 2: Discover    â†’ SKILL D (Data Display Table)     â”‚ â”‚
â”‚  â”‚   Step 3: Proposals   â†’ SKILL C (Form) + SKILL E (Toast) â”‚ â”‚
â”‚  â”‚   Step 4: Accept      â†’ SKILL B (Payment Checkout)       â”‚ â”‚
â”‚  â”‚   Step 5: Delivery    â†’ SKILL F (Real-Time Status)       â”‚ â”‚
â”‚  â”‚   Step 6: Post-Pay    â†’ SKILL E (Rating Modal)           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                            â†“                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   SKILL B: PAYMENT STRIPE (Credit System Integration)   â”‚  â”‚
â”‚  â”‚   â”œâ”€ Checkout session â†’ Stripe webhooks                 â”‚  â”‚
â”‚  â”‚   â”œâ”€ Credit creation â†’ Daily reconciliation              â”‚  â”‚
â”‚  â”‚   â”œâ”€ Refund logic â†’ Audit logging                       â”‚  â”‚
â”‚  â”‚   â””â”€ PCI compliance â†’ Zero error tolerance              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                            â†•                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ SKILL F: REAL-TIME (Chat, notifications, status)        â”‚  â”‚
â”‚  â”‚   â”œâ”€ WebSocket server (auth, message routing)           â”‚  â”‚
â”‚  â”‚   â”œâ”€ Chat UI (messages, typing indicators)              â”‚  â”‚
â”‚  â”‚   â”œâ”€ Notification center (bell icon, list)              â”‚  â”‚
â”‚  â”‚   â””â”€ Status broadcasts (QuotaÃ§Ã£o esatus updates)        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ SKILL C: FORMS      â”‚  â”‚ SKILL D: DATA DISPLAY            â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚ â”‚ React Hook Form â”‚ â”‚  â”‚ â”‚ DataTable ReutilizÃ¡vel       â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ Zod Validation  â”‚ â”‚  â”‚ â”‚ â”œâ”€ Sort, filter, paginate    â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ Real-time       â”‚ â”‚  â”‚ â”‚ â”œâ”€ Dark mode                 â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ Multi-step      â”‚ â”‚  â”‚ â”‚ â”œâ”€ CSV export                â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ Async checks    â”‚ â”‚  â”‚ â”‚ â””â”€ Selection                 â”‚ â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚           â†“                                    â†“                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ SKILL E: FEEDBACK   â”‚  â”‚ SKILL G: ADMIN & MODERATION      â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚ â”‚ Toast system    â”‚ â”‚  â”‚ â”‚ Dashboard (KPIs, charts)     â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ Modals          â”‚ â”‚  â”‚ â”‚ User management              â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ Spinners        â”‚ â”‚  â”‚ â”‚ Audit log viewer             â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ Status badges   â”‚ â”‚  â”‚ â”‚ Dispute resolution           â”‚ â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â†“                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   SKILL H: PRODUCT & CUSTOMER (Data Master)             â”‚    â”‚
â”‚  â”‚   â”œâ”€ Produtos: CRUD + NCM validation                    â”‚    â”‚
â”‚  â”‚   â”œâ”€ Clientes: Profiles + historico                     â”‚    â”‚
â”‚  â”‚   â”œâ”€ ValidaÃ§Ã£o: Duplicatas, CPF/CNPJ                    â”‚    â”‚
â”‚  â”‚   â””â”€ Import/Export: CSV bulk operations                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                            DEPENDENCIES

SKILL A (Quotation)
â”œâ”€ SKILL C: Form creation, validation
â”œâ”€ SKILL D: List quotations with table
â”œâ”€ SKILL B: Payment at acceptance
â”œâ”€ SKILL F: Status updates, chat
â””â”€ SKILL E: Feedback (toasts, modals)

SKILL B (Payment)
â”œâ”€ SKILL E: Payment status feedback
â””â”€ Stripe Webhooks: External

SKILL C (Forms)
â”œâ”€ Zod: Validation library
â””â”€ React Hook Form: Form state

SKILL D (Tables)
â”œâ”€ Sort/Filter/Paginate logic
â””â”€ Export to CSV

SKILL E (Feedback)
â”œâ”€ Toast provider (React Context)
â””â”€ Modal portals

SKILL F (Real-Time)
â”œâ”€ WebSocket (backend)
â”œâ”€ Custom hook (frontend)
â””â”€ Message persistence

SKILL G (Admin)
â”œâ”€ SKILL D: User list, audit log
â”œâ”€ SKILL E: Confirm dialogs
â””â”€ Data aggregation

SKILL H (Data)
â”œâ”€ SKILL C: Product form
â”œâ”€ SKILL D: Product & customer lists
â””â”€ Validation middlewares


                       PAGE MAPPING

Home Page
â”œâ”€ SKILL E (Notifications)
â””â”€ SKILL A (Featured quotations)

Nova QuotaÃ§Ã£o
â”œâ”€ SKILL A (Multi-step form)
â”œâ”€ SKILL C (Validation)
â””â”€ SKILL E (Feedback)

Minhas QuotaÃ§Ãµes
â”œâ”€ SKILL D (DataTable with filters)
â”œâ”€ SKILL A (Quotation cards)
â””â”€ SKILL E (Delete confirm modal)

Detalhes QuotaÃ§Ã£o
â”œâ”€ SKILL A (Full flow visualization)
â”œâ”€ SKILL B (Payment button)
â”œâ”€ SKILL F (Chat widget)
â””â”€ SKILL E (Status badges, toasts)

Chat
â”œâ”€ SKILL F (WebSocket messages)
â”œâ”€ SKILL E (Typing indicators)
â””â”€ Message history

Pagamento
â”œâ”€ SKILL B (Stripe checkout)
â”œâ”€ SKILL E (Loading state, toast)
â””â”€ Success/error handling

Meu Perfil
â”œâ”€ SKILL H (Profile form)
â”œâ”€ SKILL C (Validation)
â”œâ”€ SKILL D (Activity history)
â””â”€ SKILL E (Edit modal)

Admin Dashboard
â”œâ”€ SKILL G (KPIs, charts)
â”œâ”€ SKILL D (User table)
â”œâ”€ SKILL E (Delete confirm)
â””â”€ SKILL F (Live notifications)

Admin - UsuÃ¡rios
â”œâ”€ SKILL G (User management)
â”œâ”€ SKILL D (User list)
â””â”€ SKILL E (Edit/suspend modal)

Admin - Audit Log
â”œâ”€ SKILL G (Audit log viewer)
â”œâ”€ SKILL D (DataTable with filters)
â””â”€ Details modal

Admin - Produtos
â”œâ”€ SKILL H (Product CRUD)
â”œâ”€ SKILL C (Form validation)
â”œâ”€ SKILL D (Product list)
â””â”€ SKILL E (Delete confirm)

Admin - Importar
â”œâ”€ SKILL H (CSV import)
â”œâ”€ SKILL E (Progress, results)
â””â”€ Error handling toast


                    COMPONENT TREE

<App>
  <ToastProvider> â† SKILL E
    <NotificationCenter> â† SKILL F
      <Header>
        <HeaderNav>
        <HeaderSearch> â† SKILL D
      </Header>
      
      <Routes>
        <Route path="/quotacao/nova">
          <QuotacaoForm> â† SKILL A + C
            <FormInput>
            <MultiStepForm>
        </Route>
        
        <Route path="/quotacoes">
          <DataTable> â† SKILL D
            <Filter>
            <Sort>
            <Paginate>
        </Route>
        
        <Route path="/quotacao/:id">
          <QuotacaoDetail> â† SKILL A
            <Chat> â† SKILL F
            <PaymentButton> â† SKILL B
            <StatusTimeline>
            <RatingModal> â† SKILL E
        </Route>
        
        <Route path="/admin">
          <AdminDashboard> â† SKILL G
            <KPICards>
            <Charts>
            <Alerts>
        </Route>
        
        <Route path="/admin/usuarios">
          <UserList> â† SKILL D + G
            <DataTable>
            <EditUserModal> â† SKILL E
        </Route>
        
        <Route path="/admin/auditlog">
          <AuditLogViewer> â† SKILL G
            <DataTable> â† SKILL D
            <Filters>
        </Route>
        
        <Route path="/admin/produtos">
          <ProductManagement> â† SKILL H
            <ProductForm> â† SKILL C
            <ProductList> â† SKILL D
        </Route>
      </Routes>
      
      <Footer>
    </ToastProvider>
  </ToastProvider>
</App>


                      DATA FLOW

User Action
  â†“
[Validation - SKILL C] â† Zod schemas
  â†“
Accepted / Rejected
  â”œâ”€ Rejected: Toast Error (SKILL E)
  â””â”€ Accepted: API Call
       â†“
   [Backend Validation]
       â†“
   Valid / Invalid
   â”œâ”€ Invalid: 400 Error â†’ Toast (SKILL E)
   â””â”€ Valid: Process
        â†“
    [Side Effects]
    â”œâ”€ SKILL B: Stripe charge, create credit
    â”œâ”€ SKILL F: Broadcast status update
    â”œâ”€ SKILL G: Log to audit
    â”œâ”€ SKILL H: Update product/customer
    â””â”€ SKILL D: Refresh table
         â†“
    Success Callback
        â”œâ”€ Toast Success (SKILL E)
        â”œâ”€ Update UI
        â””â”€ Optional Redirect


                      TECH STACK ALIGNMENT

Frontend Layer:
â”œâ”€ React 18.2 â†’ Hook patterns across all SKILLS
â”œâ”€ Vite 5.4 â†’ Build tool
â”œâ”€ Tailwind 3.4 â†’ Styling (SKILLS A-H all use it)
â”œâ”€ React Router 6 â†’ Navigation
â””â”€ Lucide React â†’ Icons (SKILLS E, G use it)

Form Layer:
â”œâ”€ React Hook Form â†’ SKILL C
â””â”€ Zod â†’ SKILL C

Data Layer:
â”œâ”€ Axios â†’ API calls across all SKILLS
â”œâ”€ React Query (optional) â†’ Caching
â””â”€ Context API â†’ SKILL E (ToastProvider), SKILL F (WebSocket)

Real-Time Layer:
â”œâ”€ WebSocket â†’ SKILL F
â””â”€ JWT Auth â†’ Validation in SKILL F

Payment Layer:
â”œâ”€ Stripe API â†’ SKILL B
â””â”€ Prisma â†’ SKILL B (database queries)

Backend Layer:
â”œâ”€ Node.js 18+ â†’ Runtime
â”œâ”€ Express 4.18 â†’ Server
â”œâ”€ PostgreSQL 15 â†’ Database
â”œâ”€ Prisma ORM 5.8 â†’ Database client
â”œâ”€ JWT â†’ Authentication
â””â”€ bcryptjs â†’ Password hashing

                      SUCCESS PATH

1. Use AGENT_OPERATIONAL_GUIDEBOOK
   â”œâ”€ Section 1: FORBIDDEN OPERATIONS
   â”œâ”€ Section 2: MANDATORY PATTERNS (Auth, Header, Dark Mode)
   â””â”€ Section 3: ARCHITECTURE GUARANTEES

2. Use SKILLS_INDEX.md
   â”œâ”€ Find which skill applies
   â”œâ”€ Read that skill document
   â””â”€ Implement as checklist

3. Implement Skill Features
   â”œâ”€ Copy code patterns
   â”œâ”€ Adapt to your domain
   â””â”€ Test with examples

4. Validate
   â””â”€ npm run agent:validate (10/10 rules âœ…)

5. Build & Deploy
   â”œâ”€ npm run build (zero errors)
   â””â”€ npm run test (100% passing)

```

---

## ğŸ“ VOCÃŠ ESTÃ AQUI

âœ… fase 1: F5 security fix  
âœ… Fase 2: AGENT_OPERATIONAL_GUIDEBOOK created  
âœ… Fase 3: 8 SKILLS created (A-H)  
âœ… Fase 4: SKILLS mapped & indexed  
ğŸ”´ **Fase 5: Implementar skills no cÃ³digo** â† PRÃ“XIMO

---

## ğŸš€ PRÃ“XIMO: COMEÃ‡AR A IMPLEMENTAR

Escolha sua prioridade:

### OpÃ§Ã£o A: MVP RÃ¡pido (6h)
1. SKILL A â†’ Quotation form
2. SKILL C â†’ Validation
3. SKILL D â†’ List table
4. SKILL E â†’ Toasts
5. Deploy

### OpÃ§Ã£o B: Payment First (8h)
1. SKILL C â†’ Form + validation
2. SKILL B â†’ Stripe setup
3. SKILL E â†’ Feedback system
4. SKILL A â†’ Payment integration
5. Deploy

### OpÃ§Ã£o C: Complete (16h)
1. Implementar SKILLS A-H sequencialmente
2. IntegraÃ§Ã£o de todas as features
3. Full testing + audit
4. Deploy

---

**RecomendaÃ§Ã£o:** Comece com OpÃ§Ã£o A (MVP) depois expanda para B e C!
