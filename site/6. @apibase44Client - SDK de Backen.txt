1. @/api/base44Client - SDK de Backend
// O base44Client é um SDK pré-inicializado que funciona assim:

import { base44 } from "@/api/base44Client";

// ============================================
// ESTRUTURA DO SDK
// ============================================

// 1. ENTITIES (CRUD de Entidades)
base44.entities.{EntityName}.list(sortBy?, limit?)
base44.entities.{EntityName}.filter(query, sortBy?, limit?)
base44.entities.{EntityName}.create(data)
base44.entities.{EntityName}.update(id, data)
base44.entities.{EntityName}.delete(id)
base44.entities.{EntityName}.bulkCreate([data1, data2, ...])
base44.entities.{EntityName}.schema() // Retorna JSON schema da entidade

// Exemplos:
await base44.entities.Cotacao.list("-created_date", 20) // 20 mais recentes
await base44.entities.Produto.filter({ clienteId: "123" }, "-updated_date")
await base44.entities.Cotacao.create({ clienteId: "abc", status: "aberta" })
await base44.entities.Cotacao.update("cotacao-id", { status: "aceita" })
await base44.entities.Produto.delete("produto-id")

// 2. AUTH (Autenticação)
base44.auth.me()                        // Retorna usuário atual autenticado
base44.auth.updateMe(data)              // Atualiza dados do usuário atual
base44.auth.isAuthenticated()           // Promise<boolean>
base44.auth.logout(redirectUrl?)        // Logout
base44.auth.redirectToLogin(nextUrl?)   // Redireciona para login

// 3. INTEGRATIONS (Integrações)
base44.integrations.Core.InvokeLLM({ prompt, response_json_schema?, add_context_from_internet? })
base44.integrations.Core.UploadFile({ file })
base44.integrations.Core.SendEmail({ to, subject, body })
base44.integrations.Core.GenerateImage({ prompt, existing_image_urls? })
base44.integrations.Core.ExtractDataFromUploadedFile({ file_url, json_schema })

// 4. USERS (Gerenciamento)
base44.users.inviteUser(email, role) // "user" ou "admin"

// ============================================
// IMPLEMENTAÇÃO EQUIVALENTE (Pseudocódigo)
// ============================================

class Base44Client {
  constructor(apiUrl, apiKey) {
    this.apiUrl = apiUrl;
    this.apiKey = apiKey;
    this.token = localStorage.getItem('auth_token');
  }

  // Entities CRUD
  entities = {
    [entityName]: {
      async list(sortBy = null, limit = 50) {
        const params = { sort: sortBy, limit };
        return await this._request('GET', `/entities/${entityName}`, params);
      },
      
      async filter(query = {}, sortBy = null, limit = 50) {
        const params = { ...query, sort: sortBy, limit };
        return await this._request('GET', `/entities/${entityName}`, params);
      },
      
      async create(data) {
        return await this._request('POST', `/entities/${entityName}`, data);
      },
      
      async update(id, data) {
        return await this._request('PUT', `/entities/${entityName}/${id}`, data);
      },
      
      async delete(id) {
        return await this._request('DELETE', `/entities/${entityName}/${id}`);
      },
      
      async schema() {
        return await this._request('GET', `/entities/${entityName}/schema`);
      }
    }
  };

  // Auth
  auth = {
    async me() {
      return await this._request('GET', '/auth/me');
    },
    
    async updateMe(data) {
      return await this._request('PUT', '/auth/me', data);
    },
    
    async isAuthenticated() {
      try {
        await this.me();
        return true;
      } catch {
        return false;
      }
    },
    
    logout(redirectUrl) {
      localStorage.removeItem('auth_token');
      window.location.href = redirectUrl || '/login';
    },
    
    redirectToLogin(nextUrl) {
      const url = nextUrl ? `/login?next=${encodeURIComponent(nextUrl)}` : '/login';
      window.location.href = url;
    }
  };

  // Integrations
  integrations = {
    Core: {
      async UploadFile({ file }) {
        const formData = new FormData();
        formData.append('file', file);
        return await this._request('POST', '/integrations/core/upload', formData, true);
      },
      
      async InvokeLLM({ prompt, response_json_schema, add_context_from_internet }) {
        return await this._request('POST', '/integrations/core/llm', {
          prompt,
          response_json_schema,
          add_context_from_internet
        });
      }
    }
  };

  // Request interno
  async _request(method, endpoint, data = null, isFormData = false) {
    const headers = {
      'Authorization': `Bearer ${this.token}`
    };
    
    if (!isFormData) {
      headers['Content-Type'] = 'application/json';
    }

    const config = {
      method,
      headers,
      credentials: 'include'
    };

    if (data) {
      config.body = isFormData ? data : JSON.stringify(data);
    }

    const response = await fetch(`${this.apiUrl}${endpoint}`, config);
    
    if (!response.ok) {
      if (response.status === 401) {
        this.auth.redirectToLogin();
      }
      throw new Error(`HTTP ${response.status}`);
    }
    
    return await response.json();
  }
}

export const base44 = new Base44Client(
  process.env.BASE44_API_URL || 'https://api.base44.com',
  process.env.BASE44_API_KEY
);
________________________________________
2. @/utils - Utilitários
// utils.js ou utils/index.js

/**
 * Cria URL para navegação entre páginas
 * @param {string} pageName - Nome da página (ex: "Dashboard", "Produtos")
 * @returns {string} - URL formatada (ex: "/Dashboard", "/Produtos")
 */
export function createPageUrl(pageName) {
  // Remove query params do nome se existirem
  const [page, queryString] = pageName.split('?');
  
  // Base44 usa o nome da página como rota direta
  const baseUrl = `/${page}`;
  
  // Adiciona query params se existirem
  return queryString ? `${baseUrl}?${queryString}` : baseUrl;
}

// Exemplos de uso:
// createPageUrl("Dashboard") => "/Dashboard"
// createPageUrl("DetalheCotacao?id=123") => "/DetalheCotacao?id=123"
// createPageUrl("Produtos") => "/Produtos"

// ============================================
// SISTEMA DE ROTAS - Como funciona
// ============================================

// Base44 usa um sistema de rotas baseado em arquivos:
// - Cada arquivo em pages/ vira uma rota automaticamente
// - pages/Dashboard.js => rota /Dashboard
// - pages/NovaCotacao.js => rota /NovaCotacao
// - pages/DetalheCotacao.js => rota /DetalheCotacao

// Para recriar em React Router:
import { BrowserRouter, Routes, Route } from 'react-router-dom';

function App() {
  return (
    <BrowserRouter>
      <Routes>
        <Route path="/Dashboard" element={<Dashboard />} />
        <Route path="/NovaCotacao" element={<NovaCotacao />} />
        <Route path="/DetalheCotacao" element={<DetalheCotacao />} />
        {/* ... outras rotas */}
      </Routes>
    </BrowserRouter>
  );
}

// Para Next.js App Router:
// app/Dashboard/page.js => /Dashboard
// app/NovaCotacao/page.js => /NovaCotacao
// app/DetalheCotacao/page.js => /DetalheCotacao
________________________________________
3. Componentes UI (shadcn/ui)
// Base44 usa shadcn/ui - biblioteca de componentes headless com Tailwind CSS
// Todos os componentes estão em @/components/ui/

// ============================================
// INSTALAÇÃO EM OUTRO PROJETO
// ============================================

// 1. Instalar shadcn/ui CLI
npx shadcn-ui@latest init

// 2. Adicionar componentes necessários
npx shadcn-ui@latest add button
npx shadcn-ui@latest add card
npx shadcn-ui@latest add input
npx shadcn-ui@latest add badge
npx shadcn-ui@latest add dialog
npx shadcn-ui@latest add alert
npx shadcn-ui@latest add label
npx shadcn-ui@latest add textarea
npx shadcn-ui@latest add select
npx shadcn-ui@latest add checkbox
npx shadcn-ui@latest add radio-group
npx shadcn-ui@latest add separator
npx shadcn-ui@latest add popover
npx shadcn-ui@latest add sidebar

// ============================================
// EXEMPLO DE CÓDIGO DOS COMPONENTES
// ============================================

// Button (components/ui/button.jsx)
import { cn } from "@/lib/utils"

const Button = React.forwardRef(({ className, variant, size, ...props }, ref) => {
  return (
    <button
      className={cn(
        "inline-flex items-center justify-center rounded-md font-medium",
        "disabled:opacity-50 disabled:pointer-events-none",
        variant === "outline" && "border border-input bg-background hover:bg-accent",
        variant === "default" && "bg-primary text-primary-foreground hover:bg-primary/90",
        size === "sm" && "h-9 px-3 text-sm",
        size === "default" && "h-10 px-4 py-2",
        className
      )}
      ref__={ref}
      {...props}
    />
  )
})

// Card (components/ui/card.jsx)
const Card = React.forwardRef(({ className, ...props }, ref) => (
  <div
    ref__={ref}
    className={cn("rounded-lg border bg-card text-card-foreground shadow-sm", className)}
    {...props}
  />
))

const CardHeader = React.forwardRef(({ className, ...props }, ref) => (
  <div ref__={ref} className={cn("flex flex-col space-y-1.5 p-6", className)} {...props} />
))

const CardTitle = React.forwardRef(({ className, ...props }, ref) => (
  <h3 ref__={ref} className={cn("text-2xl font-semibold", className)} {...props} />
))

const CardContent = React.forwardRef(({ className, ...props }, ref) => (
  <div ref__={ref} className={cn("p-6 pt-0", className)} {...props} />
))

// Input (components/ui/input.jsx)
const Input = React.forwardRef(({ className, type, ...props }, ref) => {
  return (
    <input
      type={type}
      className={cn(
        "flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",
        "file:border-0 file:bg-transparent file:text-sm",
        "placeholder:text-muted-foreground",
        "focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",
        "disabled:cursor-not-allowed disabled:opacity-50",
        className
      )}
      ref__={ref}
      {...props}
    />
  )
})

// Badge (components/ui/badge.jsx)
const Badge = React.forwardRef(({ className, variant, ...props }, ref) => {
  return (
    <div
      ref__={ref}
      className={cn(
        "inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold",
        variant === "outline" && "border",
        variant === "default" && "bg-primary text-primary-foreground",
        className
      )}
      {...props}
    />
  )
})
________________________________________
4. Sistema de Autenticação
// ============================================
// COMO FUNCIONA base44.auth.me()
// ============================================

// Estrutura do objeto User retornado:
{
  // Campos base do User (built-in Base44)
  id: "user-google-id-abc123",           // ID do Google Auth
  email: "user@gmail.com",                // Email do Google
  full_name: "João Silva",                // Nome do Google
  role: "admin" | "user",                 // Papel no app
  
  // Campos customizados adicionados ao User
  tipo: "cliente" | "transportadora" | null,
  perfilAtivoId: "perfil-id-xyz",
  emailAcesso: "joao@empresa.com",
  nomeCompleto: "JOÃO SILVA",
  razaoSocial: "EMPRESA LTDA",
  cpfOuCnpj: "12345678901",
  status: "pending" | "approved" | "rejected" | "blocked",
  isPremium: false,
  fotoPerfil: "https://...",
  logoUrl: "https://...",
  saldoCashback: 1500.00,
  saldoCreditos: 500.00,
  // ... outros campos customizados
}

// ============================================
// IMPLEMENTAÇÃO EQUIVALENTE
// ============================================

class AuthService {
  async me() {
    // Faz requisição GET para endpoint /auth/me
    // O backend valida o token JWT no cookie/header
    const response = await fetch('/api/auth/me', {
      method: 'GET',
      headers: {
        'Authorization': `Bearer ${this.getToken()}`,
      },
      credentials: 'include' // Envia cookies
    });
    
    if (response.status === 401) {
      throw new Error('Unauthorized');
    }
    
    return await response.json();
  }
  
  async updateMe(data) {
    const response = await fetch('/api/auth/me', {
      method: 'PUT',
      headers: {
        'Authorization': `Bearer ${this.getToken()}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(data),
      credentials: 'include'
    });
    
    return await response.json();
  }
  
  getToken() {
    return localStorage.getItem('auth_token') || 
           document.cookie.split('; ').find(row => row.startsWith('auth_token='))?.split('=')[1];
  }
  
  redirectToLogin(nextUrl) {
    const next = nextUrl ? `?next=${encodeURIComponent(nextUrl)}` : '';
    window.location.href = `/login${next}`;
  }
  
  logout(redirectUrl) {
    localStorage.removeItem('auth_token');
    document.cookie = 'auth_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
    window.location.href = redirectUrl || '/login';
  }
}

// ============================================
// BACKEND - Estrutura de Dados
// ============================================

// Entidade User no banco (MongoDB/PostgreSQL):
{
  _id: "user-id",
  googleId: "google-oauth-id",
  email: "user@gmail.com",
  full_name: "João Silva",
  role: "user",
  
  // Campos customizados do app
  customData: {
    tipo: "cliente",
    perfilAtivoId: "perfil-id",
    emailAcesso: "joao@empresa.com",
    nomeCompleto: "JOÃO SILVA",
    status: "approved",
    isPremium: false,
    saldoCashback: 1500.00,
    // ...
  },
  
  created_at: "2026-01-01T00:00:00Z",
  updated_at: "2026-01-07T00:00:00Z"
}

// Quando base44.auth.me() é chamado:
// 1. Backend verifica token JWT
// 2. Busca usuário no banco
// 3. Mescla campos built-in com customData
// 4. Retorna objeto completo
________________________________________
5. React Query (@tanstack/react-query)
// ============================================
// BIBLIOTECA USADA
// ============================================
// @tanstack/react-query v5

// ============================================
// SETUP NECESSÁRIO
// ============================================

// main.jsx ou App.jsx
import { QueryClient, QueryClientProvider } from '@tanstack/react-query';

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 60000, // 1 minuto
      cacheTime: 300000, // 5 minutos
      refetchOnWindowFocus: false,
      retry: 3
    }
  }
});

function App() {
  return (
    <QueryClientProvider client={queryClient}>
      {/* Suas rotas e componentes */}
    </QueryClientProvider>
  );
}

// ============================================
// PADRÕES DE USO NO CÓDIGO
// ============================================

import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';

// 1. FETCH DE DADOS (useQuery)
const { data, isLoading, error } = useQuery({
  queryKey: ['cotacoes', userId], // Chave única para cache
  queryFn: async () => {
    return await base44.entities.Cotacao.filter({ clienteId: userId });
  },
  enabled: !!userId, // Só executa se userId existir
  staleTime: 60000, // Dados ficam "fresh" por 1 minuto
  refetchInterval: 30000 // Re-fetch automático a cada 30s (opcional)
});

// 2. MUTATIONS (Criar/Atualizar/Deletar)
const queryClient = useQueryClient();

const createMutation = useMutation({
  mutationFn: (data) => base44.entities.Cotacao.create(data),
  onSuccess: () => {
    // Invalidar cache para re-fetch automático
    queryClient.invalidateQueries({ queryKey: ['cotacoes'] });
  }
});

// Usar mutation
createMutation.mutate({ clienteId: "123", status: "aberta" });

// 3. INVALIDAÇÃO DE CACHE
queryClient.invalidateQueries({ queryKey: ['cotacoes'] }); // Re-fetch
queryClient.setQueryData(['cotacoes', userId], newData); // Atualizar cache direto

// ============================================
// POR QUE REACT QUERY?
// ============================================
// - Cache automático de dados
// - Re-fetch automático quando necessário
// - Loading/error states automáticos
// - Sincronização entre componentes
// - Invalidação inteligente de cache
// - Menos código repetitivo
________________________________________
6. Sistema de Entidades (Database)
// ============================================
// COMO AS ENTIDADES FUNCIONAM
// ============================================

// Cada entidade é definida como JSON Schema em entities/EntityName.json
{
  "name": "Cotacao",
  "type": "object",
  "properties": {
    "clienteId": { "type": "string" },
    "produtoId": { "type": "string" },
    "status": { 
      "type": "string", 
      "enum": ["aberta", "aceita", "finalizada"],
      "default": "aberta"
    },
    "valorNotaFiscal": { "type": "number" }
  },
  "required": ["clienteId", "produtoId"]
}

// Campos automáticos (adicionados por Base44):
// - id (string único)
// - created_date (ISO datetime)
// - updated_date (ISO datetime)
// - created_by (email do criador)

// ============================================
// EQUIVALENTE EM BANCO DE DADOS
// ============================================

// MongoDB Collection:
db.cotacao.insertOne({
  _id: ObjectId("..."),
  clienteId: "perfil-123",
  produtoId: "produto-456",
  status: "aberta",
  valorNotaFiscal: 5000.00,
  created_date: ISODate("2026-01-07T10:00:00Z"),
  updated_date: ISODate("2026-01-07T10:00:00Z"),
  created_by: "user@email.com"
});

// PostgreSQL Table:
CREATE TABLE cotacao (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  cliente_id VARCHAR(255) NOT NULL,
  produto_id VARCHAR(255) NOT NULL,
  status VARCHAR(50) DEFAULT 'aberta',
  valor_nota_fiscal DECIMAL(10,2),
  created_date TIMESTAMP DEFAULT NOW(),
  updated_date TIMESTAMP DEFAULT NOW(),
  created_by VARCHAR(255)
);

// ============================================
// API REST EQUIVALENTE
// ============================================

// GET /api/entities/Cotacao?clienteId=123&sort=-created_date&limit=20
// POST /api/entities/Cotacao (body: { clienteId, produtoId, ... })
// PUT /api/entities/Cotacao/:id (body: { status: "aceita" })
// DELETE /api/entities/Cotacao/:id
________________________________________
7. Autenticação e Sessão
// ============================================
// FLUXO DE AUTENTICAÇÃO BASE44
// ============================================

// 1. Login via Google OAuth
// Base44 usa Google Sign-In automático
// Após login, usuário recebe token JWT

// 2. Token é armazenado em:
// - Cookie httpOnly (seguro)
// - localStorage (fallback)

// 3. Todas as requisições incluem token:
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

// ============================================
// IMPLEMENTAÇÃO EQUIVALENTE (Backend Node.js)
// ============================================

// routes/auth.js
const express = require('express');
const jwt = require('jsonwebtoken');
const router = express.Router();

// Middleware de autenticação
const authenticate = (req, res, next) => {
  const token = req.cookies.auth_token || 
                req.headers.authorization?.replace('Bearer ', '');
  
  if (!token) {
    return res.status(401).json({ error: 'Unauthorized' });
  }
  
  try {
    const decoded = jwt.verify(token, process.env.JWT_SECRET);
    req.user = decoded;
    next();
  } catch (error) {
    return res.status(401).json({ error: 'Invalid token' });
  }
};

// GET /auth/me
router.get('/me', authenticate, async (req, res) => {
  const user = await db.users.findOne({ _id: req.user.id });
  
  // Mesclar dados built-in com customData
  res.json({
    id: user._id,
    email: user.email,
    full_name: user.full_name,
    role: user.role,
    ...user.customData // Campos customizados
  });
});

// PUT /auth/me
router.put('/me', authenticate, async (req, res) => {
  await db.users.updateOne(
    { _id: req.user.id },
    { 
      $set: { 
        'customData': { ...req.body },
        updated_at: new Date()
      }
    }
  );
  
  res.json({ success: true });
});
________________________________________
8. Estrutura Completa para Migração
// ============================================
// STACK RECOMENDADA PARA RECRIAR
// ============================================

// FRONTEND
{
  "framework": "React 18 + Vite",
  "routing": "react-router-dom v6",
  "ui": "shadcn/ui + Tailwind CSS",
  "state": "@tanstack/react-query v5",
  "forms": "react-hook-form",
  "icons": "lucide-react",
  "animations": "framer-motion"
}

// BACKEND
{
  "runtime": "Node.js + Express",
  "database": "MongoDB ou PostgreSQL",
  "auth": "JWT + Google OAuth",
  "storage": "AWS S3 ou Cloudinary (uploads)",
  "email": "SendGrid ou AWS SES"
}

// ============================================
// ESTRUTURA DE PASTAS EQUIVALENTE
// ============================================

src/
├── api/
│   ├── client.js              # Base44Client equivalente
│   └── endpoints.js           # Definições de endpoints
├── components/
│   ├── ui/                    # shadcn/ui components
│   ├── common/                # PageHeader, LoadingSpinner, etc
│   ├── cotacao/               # Componentes específicos
│   └── auth/                  # Login, Registro
├── pages/
│   ├── Dashboard.jsx
│   ├── NovaCotacao.jsx
│   └── ...
├── lib/
│   └── utils.js              # cn(), helpers
├── utils/
│   └── index.js              # createPageUrl(), etc
├── hooks/
│   ├── useAuth.js            # Hook de autenticação
│   └── useUser.js            # Hook de usuário
└── App.jsx                   # Setup principal

// ============================================
// CHECKLIST DE MIGRAÇÃO
// ============================================

✅ Instalar dependências base
✅ Configurar shadcn/ui
✅ Criar SDK client (base44Client equivalente)
✅ Configurar React Query
✅ Criar sistema de rotas (react-router-dom)
✅ Implementar autenticação (JWT + Google OAuth)
✅ Criar API REST para entidades
✅ Migrar componentes de UI
✅ Configurar upload de arquivos (S3/Cloudinary)
✅ Integrar serviços externos (email, LLM, etc)
________________________________________
9. Dependências NPM Completas
{
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-router-dom": "^6.26.0",
    "@tanstack/react-query": "^5.84.1",
    "lucide-react": "^0.475.0",
    "framer-motion": "^11.16.4",
    "date-fns": "^3.6.0",
    "lodash": "^4.17.21",
    "react-hook-form": "^7.54.2",
    
    "@radix-ui/react-dialog": "^1.1.6",
    "@radix-ui/react-dropdown-menu": "^2.1.6",
    "@radix-ui/react-select": "^2.1.6",
    "@radix-ui/react-checkbox": "^1.1.4",
    "@radix-ui/react-radio-group": "^1.2.3",
    "@radix-ui/react-label": "^2.1.2",
    "@radix-ui/react-separator": "^1.1.2",
    "@radix-ui/react-popover": "^1.1.6",
    "@radix-ui/react-tabs": "^1.1.3",
    "@radix-ui/react-alert-dialog": "^1.1.6",
    
    "tailwindcss": "^3.4.0",
    "tailwind-merge": "^3.0.2",
    "tailwindcss-animate": "^1.0.7",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1"
  }
}
Resumo: Base44 é uma plataforma BaaS que fornece backend completo via SDK. Para migrar, você precisa criar uma API REST equivalente, configurar autenticação JWT/OAuth, usar React Query para cache, e shadcn/ui para componentes.